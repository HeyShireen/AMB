base_currency: EUR
monthly_budget: 200
stop_loss_pct: 0.12               # Stop-loss plus large (12%) pour éviter whipsaws
take_profit_pct: 0.20             # Take-profit à 20%
partial_take_profit_pct: 0.10     # Prise de profit partielle à +10%
partial_take_profit_frac: 0.5     # Vendre 50% de la position à +10%
trailing_stop_enabled: true       # Activer trailing stop
trailing_stop_activation_pct: 0.08  # Activer trailing après +8%
trailing_stop_distance_pct: 0.05  # Trailing à 5% du plus haut
max_positions: 8                  # Moins de positions = plus concentré
risk_per_trade_pct: 0.02          # 2% du capital par trade (plus agressif)
atr_stop_multiplier: 2.0          # Stop à 2x ATR (plus de marge)
min_position_risk: 15             # Risque minimal en devise par trade
trend_analysis:
  enabled: true
  rsi_overbought: 70    # Plus strict: skip if RSI > 70
  rsi_oversold: 35      # Bonus si RSI < 35 (oversold = bon point d'entrée)
  sma_short: 10         # SMA court pour réactivité
  sma_long: 30          # SMA long pour tendance
  require_uptrend: true # N'acheter que si SMA10 > SMA30
  momentum_lookback: 20 # Jours pour calcul momentum
  min_momentum: 0.02    # Momentum min +2% sur 20 jours
protections:
  use_limit_orders: false      # Use market orders for better fills
  limit_order_buffer: 0.005    # Max 0.5% above current price
  volume_anomaly_threshold: 3.0  # Skip if volume > 3x average
  time_slicing_enabled: true   # Split orders across time
  time_slicing_batches: 3      # Number of batches
  time_slicing_delay_minutes: 30  # Minutes between batches
continuous_mode:
  enabled: false               # Run continuously vs one-off
  check_interval_minutes: 15   # Scan opportunities every N minutes
  trading_hours:
    start_hour_utc: 14         # 14:00 UTC = 9:00 EST = market open
    end_hour_utc: 21           # 21:00 UTC = 16:00 EST = market close
  opportunities:
    detect_dips: true          # Buy on price dips
    detect_breakouts: true     # Buy on breakouts
    min_confidence: 0.6        # Only trade opportunities with confidence >= 0.6
universe:
  # US mega/large caps
  - AAPL
  - MSFT
  - GOOGL
  - NVDA
  - META
  - AMZN
  - AVGO
  - AMD
  - TSLA
  - NFLX
  - COST
  - CRM
  - INTU
  - LIN
  # Semis & equipment
  - ASML
  - LRCX
  # Europe blue chips
  - SAP
  - OR.PA
  - AIR.PA
  - MC.PA
  - SU.PA      # Schneider Electric
  - EN.PA      # Bouygues/Engie style infra/energy
  - TTE        # TotalEnergies (ADR ticker)
  - RNO.PA     # Renault (cyclical)
  - SNY        # Sanofi ADR (avoid SAN.PA contract lookup issues)
market_regime_filter_enabled: true          # Enable market regime detection
market_regime_bear_allocation: 0.0          # 0% allocation during bear markets (stop buying)
market_regime_sideways_allocation: 0.5      # 50% allocation during sideways markets
exploration:
  enabled: true
  budget_pct: 0.50          # 50% du budget réservé aux explorations (aggressive)
  max_level: 4              # 0 = pause, 1 = base, 4 = max sizing
  pnl_up_threshold: 0.03    # +3% => level up (more frequent)
  pnl_down_threshold: 0.06  # -6% => level down/pause
  candidates:
    - PYPL
    - NOW
    - COIN
    - MSTR
    - DKNG
    - PLTR
    - SHOP
    - RBLX
    - RIOT
rebalance:
  enabled: true
  winner_pct: 0.12           # Trim winners above +12% (prendre profits plus tôt)
  winner_sell_frac: 0.4      # Sell 40% of winners
  loser_pct: -0.08           # Cut laggards below -8%
elo:
  enabled: true                    # Enable ELO ranking for dynamic allocation
  initial_rating: 1500             # Initial rating for all tickers
  k_factor: 24                      # K-factor réduit pour stabilité
  match_frequency: 3                # Run matches every 3 days (plus fréquent)
  matches_per_run: 2                # 2 matches par run
  weighted_by_magnitude: true       # Pondérer par magnitude du P&L
  multi_factor_scoring: true        # Risk-adjusted scoring
  momentum_weight: 0.35             # Poids du momentum dans le score
  sharpe_weight: 0.25               # Poids du Sharpe ratio
  drawdown_weight: 0.25             # Poids du drawdown (pénalité)
  pnl_weight: 0.15                  # Poids du P&L brut
  league_system: false              # Désactivé
  league_champions_pct: 0.60
  league_standard_pct: 0.30
  league_relegation_pct: 0.10
  glicko_enabled: false
  glicko_initial_rd: 350
  glicko_initial_volatility: 0.06
  glicko_tau: 0.5
  winners_only_mode: true           # ACTIVER: investir seulement dans les top performers
  winners_count: 5                  # Top 5 par ELO rating
  winners_count: 3                  # Only buy top 3 tickers
  losers_only_mode: false           # Invest ONLY in bottom N losers (buy the dip)
  losers_count: 3                   # Only buy bottom 3 tickers
  cron: "0 7 1 * *"                # first day of month at 07:00
  timezone: "Europe/Paris"
logging:
  level: INFO
